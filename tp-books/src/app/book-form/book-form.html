<div>
    <form #bookForm="ngForm" (ngSubmit)="onSubmit(bookForm)">
        <div>
            <label for="title">Title</label>
            <input type="text" name="title" id="title" [(ngModel)]="livre.title" required minlength="3" #title="ngModel" pattern=".*[A-Za-z].*">
            <p *ngIf="title.invalid && title.dirty" style="color:red">
                Le titre est obligatoire (min 3 caractères) et ne doit pas contenir uniquement des chiffres
            </p>
        </div>
        <div>
            <label for="author">Author</label>
            <input type="text" name="author" id="author" [(ngModel)]="livre.author" required minlength="3" #author="ngModel">
            <p *ngIf="author.invalid && author.dirty" style="color:red">
                L'auteur est obligatoire (min 3 caractères)
            </p>
        </div>
        <div>
            <label for="publisherEmail">Publisher Email</label>
            <input type="email" name="publisherEmail" id="publisherEmail" [(ngModel)]="livre.publisherEmail" required #publisherEmail="ngModel">
            <p *ngIf="publisherEmail.invalid && publisherEmail.dirty" style="color:red">
                Email valide requis.
            </p>
        </div>
        <div>
            <label for="publisherPhone">Publisher Phone</label>
            <input type="tel" name="publisherPhone" id="publisherPhone" [(ngModel)]="livre.publisherPhone" pattern="^[0-9]{8}$" #publisherPhone="ngModel">
            <p *ngIf="publisherPhone.invalid && publisherPhone.dirty" style="color:red">
                Le numéro doit contenir exactement 8 chiffres.
            </p>
        </div>
        <div>
            <label for="releaseDate">Release Date</label>
            <input type="date" name="releaseDate" id="releaseDate" [(ngModel)]="livre.releaseDate" required min="1900-01-01" #releaseDate="ngModel">
            <p *ngIf="releaseDate.invalid && releaseDate.dirty" style="color:red">
                La date est obligatoire et doit être supérieure à 1900.
            </p>
        </div>
        <div>
            <label for="category">Category</label>
            <select name="category" id="category" [(ngModel)]="livre.category" required #category="ngModel">
                <option value="Roman">Roman</option>
                <option value="Science">Science</option>
                <option value="Histoire">Histoire</option>
                <option value="Informatique">Informatique</option>
                <option value="Art">Art</option>
                <option value="Autres">Autres</option>
            </select>
            <p *ngIf="category.invalid && category.dirty" style="color:red">
                La catégorie est obligatoire.
            </p>
        </div>
        <div>
            <label for="isAvailable">isAvailable</label>
            <input type="checkbox" name="isAvailable" id="isAvailable" [(ngModel)]="livre.isAvailable">
        </div>
        <div>
            <label for="stock">Stock</label>
            <input type="number" name="stock" id="stock" [(ngModel)]="livre.stock" min ="0" #stock="ngModel">
            <p *ngIf="stock.invalid && stock.dirty" style="color:red">
                Le stock doit être un nombre positif.
            </p>
        </div>

        <button type="submit" [disabled]="bookForm.invalid">{{ isEditing ? "Mettre à jour" : "Ajouter" }}</button>
    </form>
</div>